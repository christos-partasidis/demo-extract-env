!function(i){"function"==typeof define&&define.amd?define(i):i()}((function(){"use strict";var i=function(){function i(){this.envConfigsToLoad=[],window.digitalAnalyticsVersion=function(){return"/fastTrack/ddlib/releases/empty/"};var i=window.digitalAnalyticsConf.envs;this.envConfigsToLoad=this.getActiveEnvironments(i),this.libsToLoad=this.envConfigsToLoad.map((function(i){return i.version})),this.loadStableBuilds()}return i.prototype.loadStableBuilds=function(){var i=this;if(window.digitalAnalyticsStableBuilds)return this.stableBuilds=window.digitalAnalyticsStableBuilds,void this.loadNextLib();var t=document.createElement("script");t.type="text/javascript",t.src="//digital-analytics.amadeus.com/fastTrack/ddlib/stableBuilds.js",t.onload=function(){i.stableBuilds=window.digitalAnalyticsStableBuilds,i.loadNextLib.call(i)};var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)},i.prototype.getActiveEnvironments=function(i){var t="";window.location&&window.location.hostname&&window.location.hostname.length>0?t=window.location.hostname.toLowerCase():window.appHostName&&window.appHostName.length>0&&(t=window.appHostName.toLowerCase());var o=i.filter((function(i){return i.domains.some((function(i){return Array.isArray(t.match(new RegExp(i.toLowerCase())))}))}));if(o.length<=0)throw console.error("[ERROR] DigitalAnalytics: No matching environment found during lib init (no matching domain).",i),new Error("[ERROR] DigitalAnalytics: stopping execution");return o},i.prototype.loadNextLib=function(){if(0!==this.libsToLoad.length){var i=this.libsToLoad[0];if(this.stableBuilds[i]&&(i=this.stableBuilds[i]),this.getConstructor(i))this.libsToLoad.shift(),this.loadNextLib();else{var t=this,o=document.location.protocol+"//digital-analytics.amadeus.com/fastTrack/ddlib/releases/"+i+"/DigitalAnalytics.umd.js",e=document.createElement("script");e.type="text/javascript",e.src=o,e.onload=function(){t.libsToLoad.shift(),t.loadNextLib.call(t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}}else this.initLibs()},i.prototype.initLibs=function(){var i=this;this.envConfigsToLoad.forEach((function(t){var o=i.getConstructor(t.version),e=JSON.parse(JSON.stringify(window.digitalAnalyticsConf));e.envs=[t],new o(e)}))},i.prototype.resolveVersion=function(i){return this.stableBuilds[i]?this.stableBuilds[i]:i},i.prototype.getConstructor=function(i){return window["DigitalAnalytics_"+this.resolveVersion(i).replace(/\.|-/g,"_")]},i}();window.digitalAnalyticsConf={carrierCode:"FI",homeCountryCode:"IS",productPricesForOneADT:!0,envs:[{id:"SA",code:"SA",linkedDomains:[],domains:["wav.eu1.amadeus.com","wav-digital-\\d{1,2}\\.saas\\.amadeus\\.com"],providers:[{providerCode:"UA",trackingId:"UA-100058470-7"},{providerCode:"GA4",trackingId:"G-8VLNL76TTR",propertyId:"343681565"}],version:"uat"},{id:"PRD",code:"PRD",linkedDomains:[],domains:["book.icelandair.com","book.icelandair.is"],providers:[{providerCode:"UA",trackingId:"UA-100058470-6"},{providerCode:"GA4",trackingId:"G-PMSBGEHQPF",propertyId:"343721708"}],version:"stable"}]},new i}));
