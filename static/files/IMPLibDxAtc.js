/**
 * Implementation library for e-Retail DX
 * --------------------------------------
 * For Amadeus usage only. Usage of methods by any other party is discouraged and not supported.
 * 
 * @copyright Amadeus Implementation Team
 */
function IMPLibDxAtc(){var e=this;this.VERSION="1.11",this.overrideChangeFlightButton=function(i){if(implibdx.core.isRetrievePage()){var t=implibdx.core.getOverrideParameterValues(i);e.overrideChangeFlightButtonWithValues(t)}},this.overrideChangeFlightButtonWithValues=function(e){implibdx.core.isRetrievePage()&&plnextv2.utils.ImplementationUtils.addActionFilters({action:"RebookingAirSearchDispatcher",newAction:"Override",filterData:function(i){for(key in e)e.hasOwnProperty(key)&&(i[key]=e[key]);return i.UI_EMBEDDED_TRANSACTION="RebookingAirSearchDispatcher",i.implibdx=JSON.stringify(implibdx.core.getDeployedLibs()),i}})},this.hideChangeFlightButton=function(){implibdx.core.isRetrievePage()&&jQuery(document.body).append("<style id = 'customStyleAtcHide'>.modify-bounds-button,.modify-boundsATC-button,.farereview-vertical .footer:nth-child(2),.farereview-container-dialog-horizontal .bounds-panel-footer{display:none}</style>")},this.hidePerBoundChangeFlightButtons=function(){implibdx.core.isRetrievePage()&&jQuery(document.body).append("<style id = 'customStylePerBoundHide'>.modify-bounds-button, .bounds-panel-footer #modify-flights-dropdown{display:none}</style>")},this.showChangeFlightButton=function(){jQuery("#customStyleAtcHide").remove()},this.hideChangeFlightButtonIfNoMail=function(i){if(implibdx.core.isRetrievePage()){var t=implibdx.core.getEmail();""==t&&implibdx.core.updateDom(".modify-boundsATC-button",function(){e.hideChangeFlightButton(),plnextv2.utils.ImplementationUtils.addError("",implibdx.core.i18n(i),"W")})}},this.overrideRefundButton=function(i){if(implibdx.core.isRetrievePage()){var t=implibdx.core.getOverrideParameterValues(i);""!=implibdx.core.getCurrency()&&(t.SO_SITE_TKT_DFLT_CURRENCY=implibdx.core.getCurrency()+"2"),e.overrideRefundButtonWithValues(t)}},this.overrideRefundButtonWithValues=function(e){implibdx.core.isRetrievePage()&&plnextv2.utils.ImplementationUtils.addActionFilters({action:"RefundPNR",newAction:"Override",filterData:function(i){for(key in e)e.hasOwnProperty(key)&&(i[key]=e[key]);return i.UI_EMBEDDED_TRANSACTION="RefundPNR",i.implibdx=JSON.stringify(implibdx.core.getDeployedLibs()),i}})},this.hideRefundButton=function(){implibdx.core.isRetrievePage()&&jQuery(document.body).append("<style id = 'customStyleAtcRefundHide'>.cancel-boundsATC-button,.action-buttons-container .atc-refund-description,.action-buttons-container .atc-refund-button {display: none;}</style>")},this.searchAirportCodeOnlyDuringATCShopper=function(){var e=implibdx.core.getPage();e.match(/radvs/gi)&&plnextv2.utils.ImplementationUtils.addActionFilters({action:"RebookingAvailabilityFlowDispatcher",filterData:function(e){return"FP"==e.SEARCH_PAGE&&(e.B_LOCATION_1&&(e.B_LOCATION_1=e.B_LOCATION_1+"+"),e.E_LOCATION_1&&(e.E_LOCATION_1=e.E_LOCATION_1+"+"),e.B_LOCATION_2&&(e.B_LOCATION_2=e.B_LOCATION_2+"+"),e.E_LOCATION_2&&(e.E_LOCATION_2=e.E_LOCATION_2+"+"),e.implibdx=JSON.stringify(implibdx.core.getDeployedLibs())),e}})},this.setAnyTimeInSearch=function(){"radvs"==implibdx.core.getPage()&&implibdx.core.updateDom("select[name^=targetTime]",function(){jQuery("select[name^=targetTime]").val("ANY"),plnextv2.utils.ImplementationUtils.addActionFilters({action:"RebookingAvailabilityFlowDispatcher",filterData:function(e){return e.implibdx=JSON.stringify(implibdx.core.getDeployedLibs()),1==jQuery("select[name^=targetTime0]").length&&e.Hours1&&e.Hours1!=jQuery("select[name^=targetTime0]").val()&&(e.Hours1=jQuery("select[name^=targetTime0]").val()),1==jQuery("select[name^=targetTime1]").length&&e.Hours2&&e.Hours2!=jQuery("select[name^=targetTime1]").val()&&(e.Hours2=jQuery("select[name^=targetTime1]").val()),e}})})},this.hideTimeInSearch=function(){"radvs"==implibdx.core.getPage()&&(jQuery(document.body).append("<style id = 'customStyleHideTimeSearch'>div[id^=widget-group-itineraryReviewForm-targetTime]{display:none}</style>"),plnextv2.utils.ImplementationUtils.addActionFilters({action:"RebookingAvailabilityFlowDispatcher",filterData:function(e){return e.implibdx=JSON.stringify(implibdx.core.getDeployedLibs()),e.Hours1&&(e.Hours1="ANY"),e.Hours2&&(e.Hours2="ANY"),e}}))}}var implibdx=implibdx||{};implibdx.atc=new IMPLibDxAtc;